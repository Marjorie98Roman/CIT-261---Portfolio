<!DOCTYPE html>
<html lang = "en">
    <head>
        <title> Order Form </title>      
   <base> 
       <meta charset = “utf-8” />
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <link rel="stylesheet" href="Project02%20-%20Style%20Sheet.css">
       <script>
   
           //Sets the focus to the First Name.
           function setFocus()
           {
              document.getElementById('firstName').focus();     
           }
           
           function makeItUpperCase() {
                var x = document.getElementById("firstName");
                x.value = x.value.toUpperCase();
            }

       //Calculate the total price   
       function calcTotal(id)
       {
          var car = document.getElementById(id);
          var total = document.getElementById('total');
          var numTotal = total.innerHTML * 1; //There is only one Total
          var numCheckedCars = car.value * 1;

          if (car.checked == true)
          {
             numTotal += numCheckedCars;
          }
          else
          {
             numTotal -= numCheckedCars;
          }

          numTotal = Math.round(numTotal * 100);
          numTotal /= 100;

          if (numTotal == 0)
          {
             numTotal = "0.00";
          }
          total.innerHTML = numTotal;
       }

       //Checks if all fields are valid
       function validateAll()
       {
          var field = "";
           
          var hadErrors = false;

          //Checks if the First Name field is empty.
          if (document.getElementById('firstName').value == "")
          {
              hadErrors = true;
              field = "firstName";
              document.getElementById('invalidFirstName').style.display = "block";
          }

          else
              document.getElementById('invalidFirstName').style.display = "none";


          //Checks if the Last Name field is empty.
          if (document.getElementById('lastName').value == "")
          {
              hadErrors = true;
              field = "lastName";
              document.getElementById('invalidLastName').style.display = "block";
          }

          else
              document.getElementById('invalidLastName').style.display = "none";


          //Checks if the Address field is empty. 
          if (document.getElementById('address').value == "")
          {
              hadErrors = true;
              if (field == "")
                  field = "address";
              document.getElementById('invalidAddress').style.display = "block";
          }

          else
          {
              document.getElementById('invalidAddress').style.display = "none";
          }


          //Checks if the City field is empty.
          if (document.getElementById('city').value == "")
          {
              hadErrors = true;
              if (field == "")
                  field = "city";
              document.getElementById('invalidCity').style.display = "block";
          }

          else
          {
              document.getElementById('invalidCity').style.display = "none";
          }

      
          //Checks if the State field is empty or if it's value isn't in the right format.
          var checker = document.getElementById('state').value;
          if (document.getElementById('state').value == "" ||
              checker.search(/^[A-Za-z]{2}/) != 0)
          {
              hadErrors = true;
              if (field == "")
                  field = "state";
              document.getElementById('invalidState').style.display = "block";
          }

          else
          {
             document.getElementById('invalidState').style.display = "none";
          }


          //Checks if the Zip field is empty or if it's value isn't in the right format.
          checker = document.getElementById('zip').value;
          if (document.getElementById('zip').value == "" ||
              checker.search(/\d{5}/) != 0)
          {
              hadErrors = true;
              if (field == "")
                  field = "zip";
              document.getElementById('invalidZip').style.display = "block";
          }

          else
          {
              document.getElementById('invalidZip').style.display = "none";
          }
       

          //Checks if the Phone Number field is empty or if it's value isn't in the right format.
          checker = document.getElementById('phoneNumber').value;
          if (document.getElementById('phoneNumber').value == "" ||
              checker.search(/\d{3}-\d{3}-\d{4}/))
          {
              hadErrors = true;
              if (field == "")
                  field = "phoneNumber";
              document.getElementById('invalidPhone').style.display = "block";
          }

          else
          {
              document.getElementById('invalidPhone').style.display = "none";
          }

       
          //Checks if a Car has been chosen.
          var type = document.orderForm.type;
          var typeSelected = false;
          for (i = 0; i < type.length; i++)
          {
              if (type[i].checked)
              {
                  typeSelected = true;
                  break;
              }
          }

          if (!typeSelected)
          {
              if (field == "")
              {
                  field = "type";
              }

              hadErrors = true;
              document.getElementById('invalidType').style.display = "block";
          }

          else
          {
             document.getElementById('invalidType').style.display = "none";
          }

       
          //Checks if the Credit Card Number field is empty or if it's value isn't in the right format.
          checker = document.getElementById('card').value;
          if (checker.match(/[0-9]{16}$/))
          {
              document.getElementById('invalidCard').style.display = "none";
          }

          else
          {
              hadErrors = true;
              document.getElementById('invalidCard').style.display = "block";
          }
           

          //Checks if the Month field is empty or if it's value isn't in the right format.
          checker = document.getElementById('month').value;
          if (checker.match(/[0-9]{2}$/))
          {
              if(Number(checker) < 13 && Number(checker) > 0)
                 {
                    document.getElementById('invalidMonth').style.display = "none";
                 }
              
              else
                  {
                      hadErrors = true;
                      document.getElementById('invalidMonth').style.display = "block";
                  }
          }

          else
          {
              hadErrors = true;
              document.getElementById('invalidMonth').style.display = "block";
          }
           
        
          //Checks if the Month field is empty or if it's value isn't in the right format.
          checker = document.getElementById('year').value;
          if (checker.match(/[0-9]{4}$/))
          {
              if(Number(checker) > 2017)
                 {
                    document.getElementById('invalidYear').style.display = "none";
                 }
              
              else
                  {
                      hadErrors = true;
                      document.getElementById('invalidYear').style.display = "block";
                  }
          }

          else
          {
              hadErrors = true;
              document.getElementById('invalidYear').style.display = "block";
          }
                      
        return !hadErrors;
   }
   
   
   </script>

   <style type="text.css">
   .invalid
   {
      display: none;
   }
   
   td
   {
      display: none;
   }
   
   </style>
   
      
</head>

<body onload="setFocus()">
   <div style="text-align:center; align-content: center;"><h1>Buy the car of your dreams...</h1>
   <form class="orderForm" action="submit.html" onreset="setFocus()"
         name="orderForm" onsubmit="return validateAll();" onchange="return validateAll()">
    
    <p style="font-size:22px"><b>Contact Information</b></p>
       
    <table style="margin: auto">
       <tr>
           <td>First Name:</td>
           <td>
               <input type="text" name="firstName" id="firstName" placeholder="First Name"
                      size="15" onblur="makeItUpperCase()">
           </td>
           <td class="invalid" id="invalidFirstName" style="display:none; color: red">First Name Required.</td>
      </tr>
      
      <tr>
           <td>Last Name:</td>
           <td>
               <input type="text" name="lastName" id="lastName" placeholder="Last Name"
                      size="15">
           </td>
           <td class="invalid" id="invalidLastName" style="display:none; color: red">Last Name Required.</td>
      </tr>
        
      <tr>
          <td>Address:</td>
          <td>
              <input type="text" name="address" id="address" placeholder="Address"
                     size="15">
          </td>
          <td class="invalid" id="invalidAddress" style="display:none; color: red">Address Required.</td>
      </tr>
        
      <tr>
          <td> City:</td>
          <td>
              <input type="text" name="city" id="city" placeholder="City"
                     size="15">
          </td>
	      <td class="invalid" id="invalidCity" style="display:none; color: red">City Required.</td>
      </tr>
        
      <tr>
          <td> State: </td>
          <td>
              <input type = "text" name = "state" id = "state" placeholder="XX"
                     size = "2" maxlength="2"></td>
          <td class = "invalid" id = "invalidState" style="display:none; color: red">State Required.</td>
      </tr>
        
      <tr>
          <td> Zip Code: </td>
          <td>
              <input type = "text" name = "zip" id = "zip" placeholder="XXXXX"
              size = "5" maxlength="5">
          </td>
          <td class = "invalid" id = "invalidZip" style="display:none; color: red">Zip Code Required.</td>
      </tr>
        
      <tr>
          <td> Phone Number:</td>
          <td>
              <input type = "text" name = "phoneNumber" id = "phoneNumber" placeholder="XXX-XXX-XXXX"
                     size = "12" maxlength="12"></td>
          <td class = "invalid" id = "invalidPhone" style="display:none; color: red">Phone Number Required</td>
      </tr>
   </table>

    
       <p style="font-size:22px"><b>Payment Information</b></p>
       
       <p>Credit Card Type:</p>
       <p>
           <input type="radio" name="type" id="type" value="master" />MasterCard
           <input type="radio" name="type" value="visa" />Visa
           <input type="radio" name="type" value="american"/>American
       </p>
       
       <p>
           <span style="display:none; color: red" class="invalid" id="invalidType">Choose a card type.</span>
       </p>
       

      <table style="margin: auto">
         <tr>
             <td><b>Credit Card #:</b></td>
             <td><input type="text" name="card" id="card" size="16" placeholder="XXXXXXXXXXXX"
                        maxlength="16"></td>
             <td class="invalid" id="invalidCard" style="display:none; color: red">
                 Must be 16 digits.</td>
         </tr>
      
          
          <tr>
             <td><b>Expiration Month:</b></td>
             <td><input type="text" name="month" id="month" size="2" placeholder="XX"
                        maxlength="2"></td>
             <td class="invalid" id="invalidMonth" style="display:none; color: red">Must be 2 digits.</td>
         </tr>
          
          <tr>
             <td><b>Expiration Year:</b></td>
             <td><input type="text" name="year" id="year" size="4" placeholder="XXXX"
                        maxlength="4"></td>
             <td class="invalid" id="invalidYear" style="display:none; color: red">Must be 4 digits.</td>
         </tr>
      </table>
          
	    <p>
	       <input type="submit" value="Submit"/> 
	       <input type="reset" value="Reset" 
                  style="position:relative"/>
	    </p>
          
         </form>
</div>
</body>
</html>